<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰“çˆ†TA | æ— è“æ¡†çº¯å›¾å½¢æš´å‡»âœ¨</title>
    <style>
        /* âœ… æ ¸å¿ƒ1ï¼šå…¨å±€ç¦æ­¢æ‰€æœ‰æ–‡æœ¬é€‰ä¸­ï¼Œå½»åº•æ ¹é™¤è“æ¡†æ ¹æºï¼ä¼˜å…ˆçº§æœ€é«˜ */
        * {margin: 0;padding: 0;box-sizing: border-box;font-family: "Microsoft YaHei", sans-serif;user-select: none !important;-webkit-user-select: none !important;-moz-user-select: none !important;}
        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow: hidden;
        }
        /* é¡µé¢æ ‡é¢˜ï¼ˆä¿ç•™æ ‡é¢˜ï¼Œå·²åŠ ç¦æ­¢é€‰ä¸­ï¼Œæ— è“æ¡†ï¼‰ */
        .title {color: #fff;text-align: center;margin-bottom: 30px;}
        .title h1 {font-size: 40px;text-shadow: 0 0 20px #ff2e63, 0 0 40px #ff2e63;}
        .title p {font-size: 16px;color: #a8dadc;margin-top: 8px;}
        /* åå­—ç¼–è¾‘åŒº - æ— è“æ¡†+ç¦æ­¢é€‰ä¸­ï¼ˆä»…è¾“å…¥æ¡†å¯ç¼–è¾‘ï¼‰ */
        .name-edit {display: flex;align-items: center;gap: 15px;margin-bottom: 40px;background: rgba(255,255,255,0.1);padding: 15px 25px;border-radius: 50px;backdrop-filter: blur(10px);}
        .name-edit label {color: #fff;font-size: 18px;font-weight: bold;}
        #target-name {
            width: 220px;
            padding: 12px 20px;
            border: none;
            border-radius: 30px;
            font-size: 18px;
            outline: none;
            background: rgba(255,255,255,0.9);
            color: #16213e;
            text-align: center;
            /* è¾“å…¥æ¡†å•ç‹¬å…è®¸ç¼–è¾‘ï¼Œä¸å½±å“è“æ¡† */
            user-select: text !important;-webkit-user-select: text !important;
        }
        #target-name::placeholder {color: #999;}
        /* æ ¸å¿ƒäº’åŠ¨åŒº - æ— è“æ¡† */
        .main-box {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 400px;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            backdrop-filter: blur(15px);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 30px;
        }
        /* ç›®æ ‡äººç‰©å®¹å™¨ - å¯ç‚¹å‡»+æ— é€‰ä¸­ */
        .target-box {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 10;
            cursor: pointer;
        }
        /* âœ… æ ¸å¿ƒ2ï¼šäººç‰©æ ‡å¿—å½»åº•åˆ æ‰æ–‡å­—ğŸ‘¤ â†’ æ›¿æ¢ä¸ºã€çº¯CSSå›¾å½¢å¤´åƒã€‘æ— ä»»ä½•æ–‡å­—ï¼Œç»å¯¹æ— è“æ¡†ï¼ */
        .target-avatar {
            width: 150px;
            height: 150px;
            background: linear-gradient(45deg, #ff2e63, #f72585);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid #fff;
            box-shadow: 0 0 30px #ff2e63, 0 0 60px #ff2e63;
            margin-bottom: 20px;
            transition: all 0.1s ease;
            position: relative;
        }
        /* å›¾å½¢å¤´åƒå†…éƒ¨è£…é¥°ï¼ˆçº¯çº¿æ¡ï¼Œæ— æ–‡å­—ï¼‰- æ›¿ä»£åŸæœ‰äººç‰©æ–‡å­—æ ‡å¿— */
        .target-avatar::before {
            content: '';
            width: 60px;
            height: 60px;
            border: 6px solid #fff;
            border-radius: 50%;
            opacity: 0.9;
        }
        .target-avatar::after {
            content: '';
            width: 25px;
            height: 6px;
            background: #fff;
            border-radius: 3px;
            position: absolute;
            bottom: 40px;
            opacity: 0.8;
        }
        /* å¤´åƒæ‚¬åœ+ç‚¹å‡»åé¦ˆ */
        .target-avatar:hover {transform: scale(1.05);box-shadow: 0 0 40px #ff2e63, 0 0 80px #ff2e63;}
        .target-avatar:active {transform: scale(0.95);}
        /* ç›®æ ‡åå­—æ˜¾ç¤ºåŒº - ç¦æ­¢é€‰ä¸­ï¼Œæ— è“æ¡† */
        .target-name-text {
            font-size: 28px;
            color: #fff;
            font-weight: bold;
            text-shadow: 0 0 10px #ff2e63, 0 0 20px #ff2e63;
            text-align: center;
        }
        /* æŒ‰é’®åŒº - é‡ç½®æŒ‰é’®æ— è“æ¡† */
        .btn-group {display: flex;gap: 20px;}
        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }
        #reset-btn {background: linear-gradient(45deg, #4361ee, #7209b7);color: #fff;}
        #reset-btn:hover {transform: scale(1.05);box-shadow: 0 0 30px #7209b7, 0 0 60px #7209b7;}
        /* åˆ†æ•°æ˜¾ç¤º - ç¦æ­¢é€‰ä¸­ï¼Œæ— è“æ¡† */
        .score-box {position: absolute;top: 20px;right: 20px;color: #ffd166;font-size: 22px;font-weight: bold;text-shadow: 0 0 10px #ffd166,0 0 20px #e74c3c;}
        /* éœ‡åŠ¨åŠ¨ç”» - é€‚é…è¿ç‚¹ */
        @keyframes shake {
            0% {transform: translate(0,0) rotate(0deg);}
            20% {transform: translate(-3px,3px) rotate(-1deg);}
            40% {transform: translate(3px,-3px) rotate(1deg);}
            60% {transform: translate(-3px,-3px) rotate(-1deg);}
            80% {transform: translate(3px,3px) rotate(1deg);}
            100% {transform: translate(0,0) rotate(0deg);}
        }
        .animate-shake {animation: shake 0.05s linear 5;}
        /* å‡»é£åŠ¨ç”» - æ— ç¼å¤ä½ï¼Œæ”¯æŒæ— é™è¿ç‚¹ */
        @keyframes fly-boom {
            0% {transform: scale(1) translate(0,0);opacity: 1;}
            30% {transform: scale(1.1) translate(-15px,-40px) rotate(8deg);opacity: 1;}
            70% {transform: scale(0.95) translate(-25px,-60px) rotate(15deg);opacity: 0.8;}
            100% {transform: scale(1) translate(0,0);opacity: 1;}
        }
        .animate-fly {animation: fly-boom 0.4s ease forwards;}
        /* çˆ†ç‚¸ç¢ç‰‡ç‰¹æ•ˆ - çº¯å›¾å½¢ï¼Œæ— æ–‡å­— */
        .boom-piece {
            position: absolute;
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, #ffd166, #e74c3c);
            border-radius: 50%;
            box-shadow: 0 0 10px #ffd166;
            opacity: 0;
            z-index: 5;
        }
        @keyframes boom {
            0% {opacity: 1;transform: scale(1) translate(0,0);}
            100% {opacity: 0;transform: scale(0.5) translate(var(--x), var(--y));}
        }
        /* âœ… æ ¸å¿ƒ3ï¼šå‡»æ‰“æç¤ºè¯­å½»åº•åˆ æ‰æ‰€æœ‰æ–‡å­—/æ•°å­— â†’ æ›¿æ¢ä¸ºã€çº¯è¡¨æƒ…å›¾å½¢ã€‘æ— ä»»ä½•æ–‡å­—ï¼Œç»å¯¹æ— è“æ¡†ï¼ */
        .hit-text {
            position: absolute;
            font-size: 50px; /* è¡¨æƒ…æ”¾å¤§ï¼Œæ›´é†’ç›® */
            opacity: 0;
            z-index: 20;
            text-shadow: 0 0 15px #ffd166, 0 0 30px #e74c3c;
        }
        @keyframes hit-text-animate {
            0% {opacity: 1;transform: scale(1) translate(0,0);}
            50% {opacity: 1;transform: scale(1.5) translate(0,-20px);}
            100% {opacity: 0;transform: scale(0.9) translate(0,-40px);}
        }
        /* å“åº”å¼é€‚é…æ‰‹æœº - å…¨å…¼å®¹æ— è“æ¡† */
        @media (max-width: 768px) {
            .title h1 {font-size: 30px;}
            .title p {font-size: 14px;}
            .name-edit {flex-direction: column;gap: 10px;padding: 15px;border-radius: 20px;width: 100%;}
            #target-name {width: 100%;font-size: 16px;}
            .target-avatar {width: 120px;height: 120px;}
            .target-avatar::before {width: 45px;height: 45px;border-width: 5px;}
            .target-name-text {font-size: 24px;}
            .btn-group {flex-direction: column;width: 100%;gap: 15px;}
            .btn {width: 100%;padding: 12px 0;font-size: 18px;}
            .score-box {font-size: 18px;top: 15px;right: 15px;}
            .hit-text {font-size: 40px;}
        }
    </style>
</head>
<body>
    <!-- æ ‡é¢˜åŒº -->
    <div class="title">
        <h1>æ‰“çˆ†TA ğŸ”¥</h1>
        <p>âœ… ç‚¹å‡»å¤´åƒæ— é™æš´å‡» âœ… æ— è“æ¡†è¶…ä¸æ»‘ âœ… è¾“å…¥åå­—è‡ªå®šä¹‰</p>
    </div>

    <!-- åå­—ç¼–è¾‘åŒº -->
    <div class="name-edit">
        <label>ç›®æ ‡ï¼š</label>
        <input type="text" id="target-name" placeholder="è¾“å…¥æš´å‡»ç›®æ ‡å" value="çŒªå…«æˆ’">
    </div>

    <!-- æ ¸å¿ƒäº’åŠ¨åŒº -->
    <div class="main-box">
        <!-- åˆ†æ•°æ˜¾ç¤º -->
        <div class="score-box">ğŸ’¯<span id="score">1995</span></div>
        <!-- ç›®æ ‡äººç‰©ï¼ˆçº¯å›¾å½¢å¤´åƒï¼Œæ— æ–‡å­—ï¼‰ -->
        <div class="target-box" id="target-box">
            <div class="target-avatar" id="target-avatar"></div>
            <div class="target-name-text" id="show-name">çŒªå…«æˆ’</div>
        </div>
    </div>

    <!-- æŒ‰é’®åŒº -->
    <div class="btn-group">
        <button class="btn" id="reset-btn">é‡ç½® â†º</button>
    </div>

    <script>
        // ========== å…¨å±€å˜é‡ ==========
        const targetNameInput = document.getElementById('target-name');
        const showNameDom = document.getElementById('show-name');
        const targetBox = document.getElementById('target-box');
        const targetAvatar = document.getElementById('target-avatar');
        const resetBtn = document.getElementById('reset-btn');
        const scoreDom = document.getElementById('score');
        const mainBox = document.querySelector('.main-box');
        let score = 1995;

        // ========== åˆå§‹åŒ– ==========
        window.onload = function() {
            bindNameChange();
            bindAvatarClick();
            bindResetEvent();
        };

        // ========== 1. åå­—å®æ—¶ç¼–è¾‘ï¼ˆä»…è¾“å…¥æ¡†å¯ç¼–è¾‘ï¼Œæ˜¾ç¤ºåŒºæ— è“æ¡†ï¼‰ ==========
        function bindNameChange() {
            targetNameInput.addEventListener('input', function() {
                const name = this.value.trim() || 'æ— åæ°';
                showNameDom.innerText = name;
            });
            targetNameInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    const name = this.value.trim() || 'æ— åæ°';
                    showNameDom.innerText = name;
                }
            });
        }

        // ========== 2. æ ¸å¿ƒï¼šç‚¹å‡»å¤´åƒæ— é™æš´å‡»ï¼ˆæ— è“æ¡†+æ— å¡é¡¿ï¼‰ ==========
        function bindAvatarClick() {
            targetAvatar.addEventListener('click', function() {
                const currentName = targetNameInput.value.trim() || 'æ— åæ°';
                showNameDom.innerText = currentName;

                // éœ‡åŠ¨åŠ¨ç”»é‡ç½®+è§¦å‘
                targetBox.classList.remove('animate-shake');
                void targetBox.offsetWidth;
                targetBox.classList.add('animate-shake');

                // å‡»é£åŠ¨ç”»é‡ç½®+è§¦å‘
                targetBox.classList.remove('animate-fly');
                void targetBox.offsetWidth;
                targetBox.classList.add('animate-fly');

                // åˆ†æ•°ç´¯åŠ 
                const randomScore = Math.floor(Math.random() * 90) + 10;
                score += randomScore;
                scoreDom.innerText = score;

                // ç”Ÿæˆçº¯è¡¨æƒ…å‡»æ‰“æç¤º+çˆ†ç‚¸ç¢ç‰‡ï¼ˆæ— æ–‡å­—ï¼‰
                createHitEmoji();
                createBoomEffect();
            });
        }

        // ========== 3. é‡ç½®åŠŸèƒ½ ==========
        function bindResetEvent() {
            resetBtn.addEventListener('click', function() {
                score = 0;
                scoreDom.innerText = 0;
                targetNameInput.value = 'çŒªå…«æˆ’';
                showNameDom.innerText = 'çŒªå…«æˆ’';
                clearAllEffect();
            });
        }

        // ========== âœ… æ ¸å¿ƒ4ï¼šå‡»æ‰“æç¤ºè¯­ â†’ çº¯è¡¨æƒ…æ•°ç»„ï¼ˆå½»åº•åˆ æ‰æ‰€æœ‰æ–‡å­—/æ•°å­—ï¼‰ ==========
        function createHitEmoji() {
            // çº¯è¡¨æƒ…åº“ï¼Œæ›¿ä»£åŸæ–‡å­—æç¤ºï¼Œæ— é€‰ä¸­é£é™©ã€æ— è“æ¡†ï¼Œè¾¨è¯†åº¦æ‹‰æ»¡
            const hitEmojiList = ['ğŸ’¥','ğŸ”¥','âš¡','ğŸ’€','ğŸ’¢','ğŸ‘Š','âœŠ','ğŸ’¨'];
            const randomEmoji = hitEmojiList[Math.floor(Math.random() * hitEmojiList.length)];
            
            const hitText = document.createElement('div');
            hitText.className = 'hit-text';
            hitText.innerText = randomEmoji; // ä»…æ˜¾ç¤ºè¡¨æƒ…ï¼Œæ— ä»»ä½•æ–‡å­—
            // éšæœºä½ç½®ï¼Œä¸é®æŒ¡å¤´åƒ
            hitText.style.left = `${Math.random() * 300 + 150}px`;
            hitText.style.top = `${Math.random() * 150 + 100}px`;
            hitText.style.animation = 'hit-text-animate 0.8s ease forwards';
            mainBox.appendChild(hitText);
            setTimeout(() => hitText.remove(), 800);
        }

        // ========== çˆ†ç‚¸ç¢ç‰‡ç‰¹æ•ˆï¼ˆçº¯å›¾å½¢ï¼Œæ— æ–‡å­—ï¼‰ ==========
        function createBoomEffect() {
            const pieceNum = 15;
            for (let i = 0; i < pieceNum; i++) {
                const piece = document.createElement('div');
                piece.className = 'boom-piece';
                piece.style.left = '50%';
                piece.style.top = '50%';
                piece.style.transform = 'translate(-50%, -50%)';
                const randomX = Math.floor(Math.random() * 300) - 150;
                const randomY = Math.floor(Math.random() * 300) - 150;
                piece.style.setProperty('--x', `${randomX}px`);
                piece.style.setProperty('--y', `${randomY}px`);
                piece.style.animation = `boom 0.6s ease ${i * 0.03}s forwards`;
                mainBox.appendChild(piece);
                setTimeout(() => piece.remove(), 600);
            }
        }

        // ========== æ¸…é™¤æ®‹ç•™ç‰¹æ•ˆï¼Œä¿è¯è¿ç‚¹æµç•… ==========
        function clearAllEffect() {
            document.querySelectorAll('.boom-piece').forEach(p => p.remove());
            document.querySelectorAll('.hit-text').forEach(t => t.remove());
        }
    </script>
</body>
</html>
